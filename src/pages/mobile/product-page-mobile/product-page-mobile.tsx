import './product-page-mobile.css'
import { useEffect, useState } from 'react'
import axios from 'axios'
import mock from './../../assets/mock2.jpg'
import { requestProduct } from '../../shared/api/single-product/request'
import { useParams } from 'react-router-dom'

export function ProductPageMobile(props: any) {
  const { id } = useParams<{ id: string }>()
  const [productInfo, setProductInfo] = useState<Record<string, any> | null>(
    null
  )
  useEffect(() => {
    if (id) {
      requestProduct(id).then((products) => setProductInfo(products))
    }
  }, [id])

  return (
    <div className="productpage__mobile">
      <div className="productpage__wrapper__mobile">
        <div className='image__productpage'><img src={mock} alt="" /></div>
    
          <div className="productpage__name__mobile">{productInfo?.name}</div>
          <div className="productpage__price">
                {productInfo?.salePrices?.[0]?.value / 100 + '₽'}
          </div>
          <div className="productpage__description">
            {productInfo?.description}
          </div>
          <div className="productpage__bottom__mobile">
         
            <div className="productpage__bottom__button__mobile">
              
              <button>В корзину</button>
            </div>
          </div>
        
      </div>
    </div>
  )
}
